<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="noindex, nofollow">
    <title>DFO Gang</title>
    <link rel="icon" type="image/png" href="assets/image/ch49gang.png">
    <!-- [NEW] Google Fonts Link -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    
    <!-- External CSS Link -->
    <link rel="stylesheet" href="style.css">
</head>


<body>
    <nav class="navbar">
        <div class="navbar-brand">
            <img src="assets/image/ch49gang.png" alt="Logo" />
            <a href="/" class="navbar-title">DFO Gang</a>
        </div>
    </nav>

    <div id="loading-spinner" class="spinner"></div>

    <main class="main" id="main-view">
        <div class="search-section">
            <div class="search-container">
                <h1 class="main-logo">DFO Gang</h1>
                <div class="search-box">
                    <select id="server-select">
                        <option value="cain">Cain</option>
                        <option value="siroco">Sirocco</option>
                        <option value="explorer">ExplorerName</option>
                    </select>
                    <input id="search-input" type="text" placeholder="Character or Explorer Name" />
                    <button id="search-button">SEARCH</button>
                </div>
            </div>
            <div id="main-view-dps-options" style="margin-top: 20px;"></div>
        </div>
        
        <div class="announcement-section">
            <h2 class="section-title">NOTICE</h2>
            <div class="accordion-container">
                <div class="accordion-item">
                    <div class="accordion-header" data-accordion-id="ongoing_update_june19">
                        <span>[6/19] Ongoing Development Update</span>
                        <span class="accordion-header-icon">+</span>
                    </div>
                    <div class="accordion-content" id="accordion-content-ongoing_update_june19">
                        <p>Our ultimate goal is to provide comprehensive damage charts, similar to those found on dundam or dfmax.</p>
                        <p>To achieve this, we are completely overhauling our existing system and designing a new architecture from the ground up. Once this new system is in place, character searches will no longer rely solely on cached data—instead, you’ll be able to retrieve up-to-date information directly from the servers in real time. We also expect a significant improvement in site loading speeds as a result.</p>
                        <p>However, please note that due to the inconsistent and unintuitive nature of the DFO API responses, this process is taking a bit longer than expected. We appreciate your patience and understanding as we work towards these improvements!</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" data-accordion-id="data_validation_enhanced">
                        <span>[6/17] Data Validation Enhanced</span>
                        <span class="accordion-header-icon">+</span>
                    </div>
                    <div class="accordion-content" id="accordion-content-data_validation_enhanced">
                        <p>We have strengthened our data validation process to improve reliability. Previously, some characters with pre-generated profiles contained invalid or outdated data, which caused issues when these characters appeared in search results—sometimes resulting in information not displaying correctly or at all.</p>
                        <p>With this update, the system now performs additional checks to ensure only valid and up-to-date character profiles are used, reducing the chances of missing or broken search results.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" data-accordion-id="sader_m_sign_of_protection_fixed">
                        <span>[6/17] Sader(M) Sign of Protection Fixed</span>
                        <span class="accordion-header-icon">+</span>
                    </div>
                    <div class="accordion-content" id="accordion-content-sader_m_sign_of_protection_fixed">
                        <p>The issue where Sader(M)'s Sign of Protection stat was not applied to buff calculations has been fixed.</p>
                        <p>We have also optimized the buff calculation code for slightly improved performance.</p>
                        <p>If you notice a significant difference in buff values while using the site (more than ±3%), please report it through the 80% DFO Discord server (<a href="https://discord.me/80dfo" target="_blank">https://discord.me/80dfo</a>).</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" data-accordion-id="dps_formula_change_notice">
                        <span>[6/17] DPS Calculation Formula Change</span>
                        <span class="accordion-header-icon">+</span>
                    </div>
                    <div class="accordion-content" id="accordion-content-dps_formula_change_notice">
                        <p>To address the issue of Cooldown Reduction (CDR) being excessively overvalued, we have advanced the DPS calculation formula from the previous simple "Damage/Cooldown" method.</p>
                        <p>Accordingly, the existing "DPS" metric has been renamed to "DPS Score".</p>
                        <p>The Damage-Cooldown Ratio (2:1), which most items follow, has been incorporated into the final damage calculation.</p>
                        <p>For actual calculations, the Damage-Cooldown Ratio has been adjusted to provide a higher conversion value for larger amounts of Cooldown Reduction provided at once.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" data-accordion-id="buff_issues_notice">
                        <span>[6/16] Known Issues with Buff Calculation</span>
                        <span class="accordion-header-icon">+</span>
                    </div>
                    <div class="accordion-content" id="accordion-content-buff_issues_notice">
                        <p>There is an issue where the Sign of Protection stat for Male Sader is not being applied to buff calculations.</p>
                        <p>Additionally, the Burning buff level is incorrectly being applied to the main buff for Sader classes.</p>
                        <p>These issues will be addressed in the next update.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" data-accordion-id="buff_power_notice">
                        <span>[6/16] Buff Power Information Updated</span>
                        <span class="accordion-header-icon">+</span>
                    </div>
                    <div class="accordion-content" id="accordion-content-buff_power_notice">
                        <p>You can now check the buff power for all Sader classes.</p>
                        <p>The buff score uses the same calculation formula as Dundam.</p>
                        <p>On the global server, Saders have stronger aura avatars compared to KDNF,</p>
                        <p>which means their buff power is generally higher than Saders of the same level on KDNF.</p>
                    </div>
                </div>
                <div class="accordion-item">
                    <div class="accordion-header" data-accordion-id="dps_info_notice">
                        <span>DPS Information Notice</span>
                        <span class="accordion-header-icon">+</span>
                    </div>
                    <div class="accordion-content" id="accordion-content-dps_info_notice">
                        <p>If there are too many search results at once, the API request might be rejected due to an excessive number of API calls.</p>
                        <p>Currently, pre-cached DPS information is displayed, and this information is updated when you click on a character card to view details.</p>
                        <p>Also, object damage is not currently included in DPS calculations, and cooldown reduction effects may appear excessively high depending on the DPS calculation method. Please utilize the "Set Normalize" option to estimate approximate damage until this feature is improved.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="results-section">
            <div id="results-wrapper">
                <div id="results" class="card-grid"></div>
            </div>
        </div>
    </main>

    <div id="detail-view" class="detail-container" style="display:none;">
        </div>

    <footer class="footer">
        <a href="https://www.dfoneople.com/developers" target="_blank">
            <img src="assets/image/neople.png" alt="Neople Logo" />
        </a>
    </footer>

    <script type="module" src="app.js"></script>
</body>

</html>